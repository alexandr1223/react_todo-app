{"version":3,"sources":["types/SortBy.ts","api/api.ts","components/TodoApp/TodoApp.tsx","components/TodoItem/TodoItem.tsx","components/TodoList/TodoList.tsx","components/TodosFilter/TodosFilter.tsx","App.tsx","hook/useLocalStorage.tsx","index.js"],"names":["SortBy","userId","request","url","options","fetch","then","res","ok","Error","json","changeTodoStatus","isCompleted","method","headers","body","JSON","stringify","completed","deleteTodo","TodoApp","setTodos","useState","inputValue","setInputValue","addTodo","e","title","preventDefault","resp","todos","id","onSubmit","type","className","placeholder","value","onChange","evt","target","TodoItem","item","isEditing","setEditing","editingValue","setEditingValue","useContext","TodoData","useEffect","handleKey","event","keyCode","deleteTodoHandler","changeTitle","window","addEventListener","removeEventListener","todoId","newTitle","changeTodoTitle","map","todo","filter","ClassNames","editing","checked","onDoubleClick","onClick","onBlur","handleBlur","onKeyPress","key","TodoList","items","sortBy","visibleTodos","TodosFilter","setSortBy","classNames","selected","All","Active","Completed","React","createContext","App","initialValue","localStorage","getItem","parse","error","storedValue","setStoredValue","toStore","Function","setItem","useLocalStorage","toggleStatus","setToggleStatus","data","isEveryToggle","every","contextValue","length","curr","htmlFor","Provider","forEach","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.81b3e805.chunk.js","sourcesContent":["export enum SortBy {\n  All = 'all',\n  Active = 'active',\n  Completed = 'completed',\n}\n","const BASE_URL = 'https://mate.academy/students-api/';\n\nexport const userId = 3643;\n\nexport const request = (url: string, options?: any) => fetch(`${BASE_URL}${url}`, options)\n  .then((res) => {\n    if (!res.ok) {\n      throw new Error('Error with loading data...');\n    }\n\n    return res.json();\n  });\n\n// Get todos\nexport const getTodos = (url: string) => request(url);\n\n// Add new todo\nexport const addNewTodo = (url: string, title: string) => request(\n  url,\n  {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({\n      title,\n      userId,\n      completed: false,\n    }),\n  },\n);\n\n// Change todo status completed\nexport const changeTodoStatus = (url: string, isCompleted: boolean) => request(\n  url,\n  {\n    method: 'PATCH',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(\n      { completed: isCompleted },\n    ),\n  },\n);\n\n// Change todo title\nexport const changeTodoTitle = (url: string, newTitle: string) => request(\n  url,\n  {\n    method: 'PATCH',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(\n      { title: newTitle },\n    ),\n  },\n);\n\n// Delete todo\nexport const deleteTodo = (url: string) => request(\n  url,\n  {\n    method: 'DELETE',\n    headers: { 'Content-Type': 'application/json' },\n  },\n);\n","import React, { useState } from 'react';\nimport { addNewTodo, userId } from '../../api/api';\nimport { TodosType } from '../../types/TodosType';\n\ntype Props = {\n  setTodos: (todos: any) => void;\n};\n\nexport const TodoApp: React.FC<Props> = ({ setTodos }) => {\n  const [inputValue, setInputValue] = useState('');\n\n  const addTodo = (e: any) => {\n    e.preventDefault();\n\n    addNewTodo(`todos/?userId=${userId}`, inputValue)\n      .then((resp) => {\n        setTodos((todos: TodosType[]) => (\n          [...todos,\n            {\n              id: +resp.id,\n              title: `${resp.title}`,\n              completed: false,\n            },\n          ]\n        ));\n      });\n\n    setInputValue('');\n  };\n\n  return (\n    <form\n      onSubmit={e => addTodo(e)}\n    >\n      <input\n        type=\"text\"\n        className=\"new-todo\"\n        placeholder=\"What needs to be done?\"\n        value={inputValue}\n        onChange={evt => setInputValue(evt.target.value)}\n      />\n    </form>\n  );\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport ClassNames from 'classnames';\nimport { TodosType } from '../../types/TodosType';\n// eslint-disable-next-line import/no-cycle\nimport { TodoData } from '../../App';\n\nimport {\n  changeTodoStatus,\n  changeTodoTitle,\n  deleteTodo,\n} from '../../api/api';\n\ntype Props = {\n  item: TodosType;\n}\n\nexport const TodoItem: React.FC<Props> = ({\n  item,\n}) => {\n  const [isEditing, setEditing] = useState<boolean>(false);\n  const [editingValue, setEditingValue] = useState<string>(item.title);\n\n  const { setTodos } = useContext(TodoData);\n\n  const handleEditing = () => {\n    setEditing(true);\n  };\n\n  useEffect(() => {\n    const handleKey = (event: any) => {\n      if (event.keyCode === 27) {\n        if (item.title === '') {\n          deleteTodoHandler(item.id);\n        }\n\n        changeTitle(item.id, editingValue);\n        setEditing(false);\n      }\n    };\n\n    window.addEventListener('keydown', handleKey);\n\n    return () => {\n      window.removeEventListener('keydown', handleKey);\n    };\n  }, []);\n\n  const changeStatus = (todoId: number, isCompleted: boolean) => {\n    changeTodoStatus(`todos/${todoId}`, isCompleted)\n      .then(() => {\n        setTodos((todos: TodosType[]) => todos.map((todo: TodosType) => (\n          todo.id === todoId\n            ? { ...todo, completed: !todo.completed }\n            : todo)));\n      });\n  };\n\n  const changeTitle = (todoId: number, newTitle: string) => {\n    changeTodoTitle(`todos/${todoId}`, newTitle)\n      .then(() => {\n        setTodos((todos: TodosType[]) => todos.map((todo: TodosType) => (\n          todo.id === todoId\n            ? { ...todo, title: newTitle }\n            : todo)));\n      });\n  };\n\n  const deleteTodoHandler = (todoId: number) => {\n    deleteTodo(`todos/${todoId}`)\n      .then(() => {\n        setTodos((todos: TodosType[]) => todos.filter((todo: TodosType) => (\n          todo.id !== todoId\n        )));\n      });\n  };\n\n  const handleBlur = (evt: any) => {\n    if (evt.target.value === '') {\n      deleteTodoHandler(item.id);\n      setEditing(false);\n    } else {\n      changeTitle(item.id, editingValue);\n      setEditing(false);\n    }\n  };\n\n  const handleKey = (evt: any) => {\n    if (evt.key === 'Enter') {\n      if (evt.target.value === '') {\n        deleteTodoHandler(item.id);\n        setEditing(false);\n      } else {\n        setEditing(false);\n      }\n    }\n\n    if (evt.keyCode === 27) {\n      setEditing(false);\n    }\n  };\n\n  return (\n    <li\n      className={ClassNames(\n        { completed: item.completed },\n        { editing: isEditing },\n      )}\n    >\n      <div className=\"view\">\n        <input\n          type=\"checkbox\"\n          className=\"toggle\"\n          checked={item.completed}\n          id={item.completed ? 'toggle-completed' : 'toggle-view'}\n          onChange={() => changeStatus(item.id, !item.completed)}\n        />\n        <label onDoubleClick={handleEditing}>\n          {item.title}\n        </label>\n        <button\n          type=\"button\"\n          className=\"destroy\"\n          data-cy=\"deleteTodo\"\n          onClick={() => deleteTodoHandler(item.id)}\n        />\n      </div>\n      <input\n        type=\"text\"\n        className=\"edit\"\n        value={editingValue}\n        onChange={evt => setEditingValue(evt.target.value)}\n        onBlur={evt => handleBlur(evt)}\n        onKeyPress={evt => handleKey(evt)}\n      />\n    </li>\n  );\n};\n","import React from 'react';\n// eslint-disable-next-line import/no-cycle\nimport { TodoItem } from '../TodoItem';\nimport { TodosType } from '../../types/TodosType';\n\ntype Props = {\n  items: TodosType[];\n  sortBy: string;\n};\n\nexport const TodoList: React.FC<Props> = ({\n  items,\n  sortBy,\n}) => {\n  let visibleTodos = [...items];\n\n  switch (sortBy) {\n    case 'active':\n      visibleTodos = visibleTodos.filter(todo => todo.completed === false);\n      break;\n    case 'completed':\n      visibleTodos = visibleTodos.filter(todo => todo.completed === true);\n      break;\n    default:\n      break;\n  }\n\n  return (\n    <ul className=\"todo-list\" data-cy=\"todoList\">\n      {visibleTodos && visibleTodos.map(item => (\n        <TodoItem\n          key={item.id}\n          item={item}\n        />\n      ))}\n    </ul>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport { SortBy } from '../../types/SortBy';\n\ntype Props = {\n  sortBy: string,\n  setSortBy: (sort: SortBy) => void;\n}\n\nexport const TodosFilter: React.FC<Props> = ({ sortBy, setSortBy }) => (\n  <ul className=\"filters\">\n    <li>\n      <button\n        type=\"button\"\n        className={classNames(\n          { selected: sortBy === SortBy.All },\n        )}\n        onClick={() => setSortBy(SortBy.All)}\n      >\n        All\n      </button>\n    </li>\n\n    <li>\n      <button\n        type=\"button\"\n        className={classNames(\n          { selected: sortBy === SortBy.Active },\n        )}\n        onClick={() => setSortBy(SortBy.Active)}\n      >\n        Active\n      </button>\n    </li>\n\n    <li>\n      <button\n        type=\"button\"\n        className={classNames(\n          { selected: sortBy === SortBy.Completed },\n        )}\n        onClick={() => setSortBy(SortBy.Completed)}\n      >\n        Completed\n      </button>\n    </li>\n  </ul>\n);\n","import React, { useState, useEffect } from 'react';\nimport { TodoApp } from './components/TodoApp';\n// eslint-disable-next-line import/no-cycle\nimport { TodoList } from './components/TodoList';\nimport { TodosType } from './types/TodosType';\nimport { TodosFilter } from './components/TodosFilter';\nimport { useLocalStorage } from './hook/useLocalStorage';\nimport { deleteTodo, userId, changeTodoStatus, getTodos } from './api/api';\nimport { SortBy } from './types/SortBy';\n\nexport const TodoData = React.createContext<any>({});\n\nexport const App: React.FC = () => {\n  const [todos, setTodos] = useLocalStorage('todos', []);\n  const [toggleStatus, setToggleStatus] = useState(false);\n  const [sortBy, setSortBy] = useState(SortBy.All);\n\n  useEffect(() => {\n    getTodos(`todos/?userId=${userId}`)\n      .then((data) => {\n        setTodos(data);\n      });\n  }, []);\n\n  useEffect(() => {\n    const isEveryToggle = todos.every((todo: TodosType) => (\n      todo.completed === true\n    ));\n\n    if (isEveryToggle) {\n      setToggleStatus(true);\n    } else {\n      setToggleStatus(false);\n    }\n  }, [todos]);\n\n  const contextValue: any = { setTodos };\n\n  const notCompletedCount = () => (\n    todos.length > 0\n      ? todos.filter((item: TodosType) => !item.completed).length\n      : 0\n  );\n\n  const completedCount = () => (\n    todos.length > 0\n      ? todos.filter((item: TodosType) => item.completed).length\n      : ''\n  );\n\n  const clearCompleted = () => {\n    todos.forEach((todo: TodosType) => {\n      if (todo.completed === true) {\n        deleteTodo(`todos/${todo.id}`)\n          .then(setTodos(todos.filter((item: TodosType) => (\n            item.completed !== true\n          ))));\n      }\n    });\n  };\n\n  const toggleAll = () => {\n    setTodos((curr: TodosType[]) => curr.map((item: TodosType) => {\n      if (item.completed !== !toggleStatus) {\n        changeTodoStatus(`todos/${item.id}`, !toggleStatus);\n\n        return { ...item, completed: !toggleStatus };\n      }\n\n      return item;\n    }));\n\n    setToggleStatus(!toggleStatus);\n  };\n\n  return (\n    <section className=\"todoapp\">\n      <header className=\"header\">\n        <h1>todos</h1>\n\n        <TodoApp setTodos={setTodos} />\n      </header>\n\n      <section className=\"main\">\n        {todos.length > 0 && (\n          <>\n            <input\n              type=\"checkbox\"\n              id=\"toggle-all\"\n              checked={toggleStatus}\n              className=\"toggle-all\"\n              onChange={toggleAll}\n            />\n            <label htmlFor=\"toggle-all\">Mark all as complete</label>\n          </>\n        )}\n\n        <TodoData.Provider value={contextValue}>\n          <TodoList\n            items={todos}\n            sortBy={sortBy}\n          />\n        </TodoData.Provider>\n\n      </section>\n\n      {todos.length > 0 && (\n        <footer className=\"footer\">\n          <span className=\"todo-count\" data-cy=\"todosCounter\">\n            {`${notCompletedCount()} items left`}\n          </span>\n\n          <TodosFilter sortBy={sortBy} setSortBy={setSortBy} />\n\n          {completedCount() > 0\n            && (\n              <button\n                type=\"button\"\n                className=\"clear-completed\"\n                onClick={() => clearCompleted()}\n              >\n                Clear completed\n              </button>\n            )\n          }\n        </footer>\n      )}\n    </section>\n  );\n};\n\nexport default App;\n","import { useState } from 'react';\nimport { TodosType } from '../types/TodosType';\n\nexport const useLocalStorage = (key: string, initialValue: TodosType[]) => {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      return initialValue;\n    }\n  });\n\n  const setValue = (value: TodosType[]) => {\n    try {\n      const toStore = value instanceof Function ? value(storedValue) : value;\n\n      setStoredValue(toStore);\n\n      window.localStorage.setItem(key, JSON.stringify(toStore));\n    } catch (error) {\n      throw new Error('Error');\n    }\n  };\n\n  return [storedValue, setValue];\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './styles/index.css';\nimport './styles/todo-list.css';\nimport './styles/filters.css';\n\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}